<div class="container-fluid">
    <div class="row">
        <div class="col-12 col-sm-12 col-xs-12">
            <button type="button" class="btn btn-primary" (click)="navigateUserscreen()">
                <svg-icon src="assets\Icons\plus.svg" style="fill: white;vertical-align: text-bottom;"></svg-icon>
                <span>&nbsp;CREATE USER</span>
            </button>
            <hr>
        </div>

    </div>

    <app-filter-data [filterKeyObject]="filterKeyObject" (filterKeysearch)="getUsers($event)">
    </app-filter-data>



    <!-- <form [formGroup]="filterForm">
        <div class="d-flex filtergroup ">

            <div class="filterKeydropdown">
                <select class="form-control" size="1" formControlName="filterKey">
                    <option value=''> --Select one filterkey--</option>
                    <option value="1"> UserName</option>
                    <option value="2">Role</option>
                    <option value="3">Email</option>
                </select>
            </div>&nbsp;&nbsp;
            <div class="statusKeydropdown">
                <select class="form-control" size="1" formControlName="statusKey">
                    <option value=''> --Select one statusKey--</option>
                    <option value="1"> Active</option>
                    <option value="0">InActive</option>
                </select>
            </div>&nbsp;&nbsp;
            <div class="searchKey">
                <div class="input-group mb-3">
                    <div class="input-group-prepend">
                        <input type="text" placeholder="filter here....." class="form-control"
                            formControlName="searchKey" />
                    </div>
                    <button type="button" class="btn btn-primary" (click)="filterUserData()">
                        <svg-icon src="assets\Icons\research.svg"></svg-icon>
                    </button>
                </div>
            </div>

            <div class="filterreset" (click)="getUsers()">
                <button type="button" class="btn btn-danger">reset All</button>

            </div>


        </div>
    </form> -->
    <div class="row">
        <div class="col-12">
            <app-progress-spinner [spinnerLoader]="spinnerLoader"></app-progress-spinner>
            <table mat-table [dataSource]="userDataSource">

                <ng-container matColumnDef="No">
                    <th mat-header-cell *matHeaderCellDef> No. </th>
                    <td mat-cell *matCellDef="let element,let i= index"> {{i+1}} </td>
                </ng-container>

                <!-- <ng-container matColumnDef="Email">
                    <th mat-header-cell *matHeaderCellDef> Email </th>
                    <td mat-cell *matCellDef="let element,let i= index"> {{element.email}}
                    </td> -->
                <!-- </ng-container> -->
                <ng-container matColumnDef="Email">
                    <th mat-header-cell *matHeaderCellDef>Email </th>
                    <td mat-cell *matCellDef="let element,let i= index"> {{element.email}} </td>
                </ng-container>
                <ng-container matColumnDef="Role">
                    <th mat-header-cell *matHeaderCellDef> Role </th>
                    <td mat-cell *matCellDef="let element,let i= index"> {{element.roleName}} </td>
                </ng-container>

                <ng-container matColumnDef="UserName">
                    <th mat-header-cell *matHeaderCellDef> User Name </th>
                    <td mat-cell *matCellDef="let element,let i= index"> {{element.userName}} </td>
                </ng-container>

                <ng-container matColumnDef="FirstName">
                    <th mat-header-cell *matHeaderCellDef> First Name </th>
                    <td mat-cell *matCellDef="let element,let i= index"> {{element.firstName}} </td>
                </ng-container>
                <ng-container matColumnDef="LastName">
                    <th mat-header-cell *matHeaderCellDef> Last Name </th>
                    <td mat-cell *matCellDef="let element,let i= index"> {{element.lastName}} </td>
                </ng-container>


                <ng-container matColumnDef="Edit">
                    <th mat-header-cell *matHeaderCellDef> Edit </th>
                    <td mat-cell *matCellDef="let element,let i= index">
                        <svg-icon src="assets\Icons\edit.svg" (click)="navigateUserscreen(element.userKey)"></svg-icon>
                    </td>
                </ng-container>
                <ng-container matColumnDef="Status">
                    <th mat-header-cell *matHeaderCellDef>
                        STATUS</th>
                    <td mat-cell *matCellDef="let element,let i= index"> <button class="btn  btn-link status"
                            (click)="element.isActive=!element.isActive"
                            (click)="statusChange(element,element.userKey)">{{element.isActive?'Active':'Inactive'}}</button>
                    </td>
                </ng-container>
                <tr mat-header-row *matHeaderRowDef="userDataSourceColumn"></tr>
                <tr mat-row *matRowDef="let row; columns: userDataSourceColumn;">
                </tr>
            </table>

            <app-table-data-not-found [TableDataNotFound]="userDataSource.data.length?true:false">
            </app-table-data-not-found>

            <mat-paginator [pageSizeOptions]="[5, 10, 20]" showFirstLastButtons></mat-paginator>
        </div>

    </div>
</div>